<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>DHCP服务器 | Gweek</title>
<meta name="keywords" content="">
<meta name="description" content="一、什么是DHCP服务器 DHCP（Dynamic Host Configuration Protocol）服务器是一种网络服务，用于自动分配IP地址给网络上的设备。DHCP服务器负责管理IP地址池，并在设备加入网络时分配IP地址、子网掩码、网关地址等网络配置信息。这种自动配置的方式简化了网络管理。
二、工作原理 客户端发现（DHCP Discover）： 当一个设备连接到网络时（例如，一台电脑启动或移动到新的网络），它会发送一个DHCP发现消息到网络上的广播地址（255.255.255.255），以寻找可用的DHCP服务器。
服务器提供（DHCP Offer）： DHCP服务器接收到发现消息后，会回应一个DHCP提供消息，其中包含IP地址等网络配置信息。如果有多个DHCP服务器存在，客户端会接收到多个提供消息，但通常会选择第一个到达的提供消息。
客户端请求（DHCP Request）： 客户端收到一个或多个DHCP提供消息后，选择其中一个提供消息，并向该DHCP服务器发送一个请求消息，请求分配网络配置信息。
服务器确认（DHCP Acknowledge）： DHCP服务器收到客户端的请求消息后，确认该请求，并发送一个DHCP确认消息，其中包含了所分配的IP地址等网络配置信息。
网络配置生效： 客户端收到DHCP确认消息后，配置所分配的IP地址等网络配置信息，并将其应用于网络连接。此时，设备就可以正常地与网络通信了。
三、租约更新过程 DHCP租约更新是指客户端续租其已经分配的IP地址及其他网络配置信息的过程。租约的更新是为了确保网络上的设备能够继续使用其分配的IP地址，同时也是为了网络资源的有效利用和管理。以下是DHCP租约更新的一般过程：
租约到期检查： 客户端在分配的IP地址使用期限即将到期时，会开始尝试更新租约。在租约到期之前，客户端通常会尝试向DHCP服务器发送请求以更新租约。
请求更新（DHCP Request）： 客户端发送一个DHCP请求消息到DHCP服务器，请求续租其当前使用的IP地址及其他网络配置信息。
服务器确认更新（DHCP Acknowledge）： DHCP服务器收到客户端的更新请求后，会确认该请求，并发送一个DHCP确认消息，其中包含了更新后的网络配置信息。如果DHCP服务器接受了客户端的续租请求，那么它会分配相同的IP地址给客户端，并更新租约的过期时间。
网络配置更新： 客户端收到DHCP确认消息后，会更新其网络配置，包括IP地址、子网掩码、网关地址等。这样，客户端就可以继续在网络上正常通信，并且不会中断其网络连接。
通过定期的租约更新，DHCP可以确保网络上的设备持续地使用其分配的IP地址，并且有效地管理IP地址的分配和释放，从而提高网络的可用性和资源利用效率。
四、DHCP服务配置 安装DHCP服务器角色
DHCP控制台
DHCP服务器安装成功后，开始菜单—管理工具—DHCP服务器，进入DHCP控制台。
创建作用域
配置作用域选项
配置作用域选项，DHCP服务器可以给客户机分配网关及DNS等相应的网络配置信息。
如何保留特定地址
如果用户想保留特定的IP地址给指定的客户机，以便客户机在每次启动时都获得相同的IP地址，就需要将该IP地址与客户机的MAC地址绑定。
可以用客户机进行测试
ipconfig /release 释放现有IP
ipconfig /renew 重新获取IP
配置DHCP类别选项
通过策略为特定的客户端计算机分配不同的IP地址与选项时，可以通过DHCP客户端所发送的供应商类别、用户类来区分客户端计算机。 EX：通过用户类标识符来识别客户端计算机——假设客户端client1的用户类标识符为“IT”。当client1向DHCP服务器租用IP地址时，会将此标识符“IT”传递给服务器，我们希望服务器根据此标识符来分配客户端的IP地址范围为192.168.10.150/24-192.168.10.180/24，并且将客户端的DNS服务器的IP地址设置为192.168.10.1。
五、DHCP中继代理 1、在网络中存在多个子网时，DHCP消息通常无法跨越子网传输，因为DHCP是基于UDP广播的。这就意味着DHCP服务器必须与DHCP客户端在同一个子网上才能收到客户端的广播消息。为了解决这个问题，可以使用DHCP中继代理。
2、DHCP中继代理的工作原理如下：
当一个DHCP客户端发送一个DHCP发现消息时，如果它位于一个子网上，而DHCP服务器位于另一个子网上，该消息会被网络上的DHCP中继代理接收。
DHCP中继代理会将接收到的DHCP发现消息转发给配置的DHCP服务器。
DHCP服务器收到DHCP发现消息后，会相应地回应一个DHCP提供消息，将其发送给DHCP中继代理。
DHCP中继代理再将DHCP提供消息转发给原始的DHCP客户端。
3、跨网络DHCP服务器的使用
符合RFC 1542规范的路由器
如果路由器不符合RFC 1542规范
六、无线中继配置 实验环境拓扑图
1、在GW1上安装路由和远程访问
2、在GW1上设置中继代理
七、超级作用域 用于组织和管理 DHCP 服务器上的配置。超级作用域实际上是一个 DHCP 服务器上的逻辑集合，包含了多个作用域（Scope）。作用域是一组 IP 地址范围及其相关的配置参数，如子网掩码、默认网关、DNS 服务器等。在一个 DHCP 服务器上，可以创建多个作用域，以便为不同的网络或子网提供不同的 IP 配置。">
<meta name="author" content="Gweek">
<link rel="canonical" href="http://localhost:1313/posts/3/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.b2233f4c3fc2449ebb783dfc40f173ac148c015a2116d82fa2c132788e8c69c6.css" integrity="sha256-siM/TD/CRJ67eD38QPFzrBSMAVohFtgvosEyeI6MacY=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/posts/3/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
  

<meta property="og:title" content="DHCP服务器" />
<meta property="og:description" content="一、什么是DHCP服务器 DHCP（Dynamic Host Configuration Protocol）服务器是一种网络服务，用于自动分配IP地址给网络上的设备。DHCP服务器负责管理IP地址池，并在设备加入网络时分配IP地址、子网掩码、网关地址等网络配置信息。这种自动配置的方式简化了网络管理。
二、工作原理 客户端发现（DHCP Discover）： 当一个设备连接到网络时（例如，一台电脑启动或移动到新的网络），它会发送一个DHCP发现消息到网络上的广播地址（255.255.255.255），以寻找可用的DHCP服务器。
服务器提供（DHCP Offer）： DHCP服务器接收到发现消息后，会回应一个DHCP提供消息，其中包含IP地址等网络配置信息。如果有多个DHCP服务器存在，客户端会接收到多个提供消息，但通常会选择第一个到达的提供消息。
客户端请求（DHCP Request）： 客户端收到一个或多个DHCP提供消息后，选择其中一个提供消息，并向该DHCP服务器发送一个请求消息，请求分配网络配置信息。
服务器确认（DHCP Acknowledge）： DHCP服务器收到客户端的请求消息后，确认该请求，并发送一个DHCP确认消息，其中包含了所分配的IP地址等网络配置信息。
网络配置生效： 客户端收到DHCP确认消息后，配置所分配的IP地址等网络配置信息，并将其应用于网络连接。此时，设备就可以正常地与网络通信了。
三、租约更新过程 DHCP租约更新是指客户端续租其已经分配的IP地址及其他网络配置信息的过程。租约的更新是为了确保网络上的设备能够继续使用其分配的IP地址，同时也是为了网络资源的有效利用和管理。以下是DHCP租约更新的一般过程：
租约到期检查： 客户端在分配的IP地址使用期限即将到期时，会开始尝试更新租约。在租约到期之前，客户端通常会尝试向DHCP服务器发送请求以更新租约。
请求更新（DHCP Request）： 客户端发送一个DHCP请求消息到DHCP服务器，请求续租其当前使用的IP地址及其他网络配置信息。
服务器确认更新（DHCP Acknowledge）： DHCP服务器收到客户端的更新请求后，会确认该请求，并发送一个DHCP确认消息，其中包含了更新后的网络配置信息。如果DHCP服务器接受了客户端的续租请求，那么它会分配相同的IP地址给客户端，并更新租约的过期时间。
网络配置更新： 客户端收到DHCP确认消息后，会更新其网络配置，包括IP地址、子网掩码、网关地址等。这样，客户端就可以继续在网络上正常通信，并且不会中断其网络连接。
通过定期的租约更新，DHCP可以确保网络上的设备持续地使用其分配的IP地址，并且有效地管理IP地址的分配和释放，从而提高网络的可用性和资源利用效率。
四、DHCP服务配置 安装DHCP服务器角色
DHCP控制台
DHCP服务器安装成功后，开始菜单—管理工具—DHCP服务器，进入DHCP控制台。
创建作用域
配置作用域选项
配置作用域选项，DHCP服务器可以给客户机分配网关及DNS等相应的网络配置信息。
如何保留特定地址
如果用户想保留特定的IP地址给指定的客户机，以便客户机在每次启动时都获得相同的IP地址，就需要将该IP地址与客户机的MAC地址绑定。
可以用客户机进行测试
ipconfig /release 释放现有IP
ipconfig /renew 重新获取IP
配置DHCP类别选项
通过策略为特定的客户端计算机分配不同的IP地址与选项时，可以通过DHCP客户端所发送的供应商类别、用户类来区分客户端计算机。 EX：通过用户类标识符来识别客户端计算机——假设客户端client1的用户类标识符为“IT”。当client1向DHCP服务器租用IP地址时，会将此标识符“IT”传递给服务器，我们希望服务器根据此标识符来分配客户端的IP地址范围为192.168.10.150/24-192.168.10.180/24，并且将客户端的DNS服务器的IP地址设置为192.168.10.1。
五、DHCP中继代理 1、在网络中存在多个子网时，DHCP消息通常无法跨越子网传输，因为DHCP是基于UDP广播的。这就意味着DHCP服务器必须与DHCP客户端在同一个子网上才能收到客户端的广播消息。为了解决这个问题，可以使用DHCP中继代理。
2、DHCP中继代理的工作原理如下：
当一个DHCP客户端发送一个DHCP发现消息时，如果它位于一个子网上，而DHCP服务器位于另一个子网上，该消息会被网络上的DHCP中继代理接收。
DHCP中继代理会将接收到的DHCP发现消息转发给配置的DHCP服务器。
DHCP服务器收到DHCP发现消息后，会相应地回应一个DHCP提供消息，将其发送给DHCP中继代理。
DHCP中继代理再将DHCP提供消息转发给原始的DHCP客户端。
3、跨网络DHCP服务器的使用
符合RFC 1542规范的路由器
如果路由器不符合RFC 1542规范
六、无线中继配置 实验环境拓扑图
1、在GW1上安装路由和远程访问
2、在GW1上设置中继代理
七、超级作用域 用于组织和管理 DHCP 服务器上的配置。超级作用域实际上是一个 DHCP 服务器上的逻辑集合，包含了多个作用域（Scope）。作用域是一组 IP 地址范围及其相关的配置参数，如子网掩码、默认网关、DNS 服务器等。在一个 DHCP 服务器上，可以创建多个作用域，以便为不同的网络或子网提供不同的 IP 配置。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/posts/3/" />
<meta property="og:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-08-21T01:00:06+08:00" />
<meta property="article:modified_time" content="2024-08-21T01:00:06+08:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="http://localhost:1313/images/papermod-cover.png" />
<meta name="twitter:title" content="DHCP服务器"/>
<meta name="twitter:description" content="一、什么是DHCP服务器 DHCP（Dynamic Host Configuration Protocol）服务器是一种网络服务，用于自动分配IP地址给网络上的设备。DHCP服务器负责管理IP地址池，并在设备加入网络时分配IP地址、子网掩码、网关地址等网络配置信息。这种自动配置的方式简化了网络管理。
二、工作原理 客户端发现（DHCP Discover）： 当一个设备连接到网络时（例如，一台电脑启动或移动到新的网络），它会发送一个DHCP发现消息到网络上的广播地址（255.255.255.255），以寻找可用的DHCP服务器。
服务器提供（DHCP Offer）： DHCP服务器接收到发现消息后，会回应一个DHCP提供消息，其中包含IP地址等网络配置信息。如果有多个DHCP服务器存在，客户端会接收到多个提供消息，但通常会选择第一个到达的提供消息。
客户端请求（DHCP Request）： 客户端收到一个或多个DHCP提供消息后，选择其中一个提供消息，并向该DHCP服务器发送一个请求消息，请求分配网络配置信息。
服务器确认（DHCP Acknowledge）： DHCP服务器收到客户端的请求消息后，确认该请求，并发送一个DHCP确认消息，其中包含了所分配的IP地址等网络配置信息。
网络配置生效： 客户端收到DHCP确认消息后，配置所分配的IP地址等网络配置信息，并将其应用于网络连接。此时，设备就可以正常地与网络通信了。
三、租约更新过程 DHCP租约更新是指客户端续租其已经分配的IP地址及其他网络配置信息的过程。租约的更新是为了确保网络上的设备能够继续使用其分配的IP地址，同时也是为了网络资源的有效利用和管理。以下是DHCP租约更新的一般过程：
租约到期检查： 客户端在分配的IP地址使用期限即将到期时，会开始尝试更新租约。在租约到期之前，客户端通常会尝试向DHCP服务器发送请求以更新租约。
请求更新（DHCP Request）： 客户端发送一个DHCP请求消息到DHCP服务器，请求续租其当前使用的IP地址及其他网络配置信息。
服务器确认更新（DHCP Acknowledge）： DHCP服务器收到客户端的更新请求后，会确认该请求，并发送一个DHCP确认消息，其中包含了更新后的网络配置信息。如果DHCP服务器接受了客户端的续租请求，那么它会分配相同的IP地址给客户端，并更新租约的过期时间。
网络配置更新： 客户端收到DHCP确认消息后，会更新其网络配置，包括IP地址、子网掩码、网关地址等。这样，客户端就可以继续在网络上正常通信，并且不会中断其网络连接。
通过定期的租约更新，DHCP可以确保网络上的设备持续地使用其分配的IP地址，并且有效地管理IP地址的分配和释放，从而提高网络的可用性和资源利用效率。
四、DHCP服务配置 安装DHCP服务器角色
DHCP控制台
DHCP服务器安装成功后，开始菜单—管理工具—DHCP服务器，进入DHCP控制台。
创建作用域
配置作用域选项
配置作用域选项，DHCP服务器可以给客户机分配网关及DNS等相应的网络配置信息。
如何保留特定地址
如果用户想保留特定的IP地址给指定的客户机，以便客户机在每次启动时都获得相同的IP地址，就需要将该IP地址与客户机的MAC地址绑定。
可以用客户机进行测试
ipconfig /release 释放现有IP
ipconfig /renew 重新获取IP
配置DHCP类别选项
通过策略为特定的客户端计算机分配不同的IP地址与选项时，可以通过DHCP客户端所发送的供应商类别、用户类来区分客户端计算机。 EX：通过用户类标识符来识别客户端计算机——假设客户端client1的用户类标识符为“IT”。当client1向DHCP服务器租用IP地址时，会将此标识符“IT”传递给服务器，我们希望服务器根据此标识符来分配客户端的IP地址范围为192.168.10.150/24-192.168.10.180/24，并且将客户端的DNS服务器的IP地址设置为192.168.10.1。
五、DHCP中继代理 1、在网络中存在多个子网时，DHCP消息通常无法跨越子网传输，因为DHCP是基于UDP广播的。这就意味着DHCP服务器必须与DHCP客户端在同一个子网上才能收到客户端的广播消息。为了解决这个问题，可以使用DHCP中继代理。
2、DHCP中继代理的工作原理如下：
当一个DHCP客户端发送一个DHCP发现消息时，如果它位于一个子网上，而DHCP服务器位于另一个子网上，该消息会被网络上的DHCP中继代理接收。
DHCP中继代理会将接收到的DHCP发现消息转发给配置的DHCP服务器。
DHCP服务器收到DHCP发现消息后，会相应地回应一个DHCP提供消息，将其发送给DHCP中继代理。
DHCP中继代理再将DHCP提供消息转发给原始的DHCP客户端。
3、跨网络DHCP服务器的使用
符合RFC 1542规范的路由器
如果路由器不符合RFC 1542规范
六、无线中继配置 实验环境拓扑图
1、在GW1上安装路由和远程访问
2、在GW1上设置中继代理
七、超级作用域 用于组织和管理 DHCP 服务器上的配置。超级作用域实际上是一个 DHCP 服务器上的逻辑集合，包含了多个作用域（Scope）。作用域是一组 IP 地址范围及其相关的配置参数，如子网掩码、默认网关、DNS 服务器等。在一个 DHCP 服务器上，可以创建多个作用域，以便为不同的网络或子网提供不同的 IP 配置。"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://localhost:1313/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "DHCP服务器",
      "item": "http://localhost:1313/posts/3/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "DHCP服务器",
  "name": "DHCP服务器",
  "description": "一、什么是DHCP服务器 DHCP（Dynamic Host Configuration Protocol）服务器是一种网络服务，用于自动分配IP地址给网络上的设备。DHCP服务器负责管理IP地址池，并在设备加入网络时分配IP地址、子网掩码、网关地址等网络配置信息。这种自动配置的方式简化了网络管理。\n二、工作原理 客户端发现（DHCP Discover）： 当一个设备连接到网络时（例如，一台电脑启动或移动到新的网络），它会发送一个DHCP发现消息到网络上的广播地址（255.255.255.255），以寻找可用的DHCP服务器。\n服务器提供（DHCP Offer）： DHCP服务器接收到发现消息后，会回应一个DHCP提供消息，其中包含IP地址等网络配置信息。如果有多个DHCP服务器存在，客户端会接收到多个提供消息，但通常会选择第一个到达的提供消息。\n客户端请求（DHCP Request）： 客户端收到一个或多个DHCP提供消息后，选择其中一个提供消息，并向该DHCP服务器发送一个请求消息，请求分配网络配置信息。\n服务器确认（DHCP Acknowledge）： DHCP服务器收到客户端的请求消息后，确认该请求，并发送一个DHCP确认消息，其中包含了所分配的IP地址等网络配置信息。\n网络配置生效： 客户端收到DHCP确认消息后，配置所分配的IP地址等网络配置信息，并将其应用于网络连接。此时，设备就可以正常地与网络通信了。\n三、租约更新过程 DHCP租约更新是指客户端续租其已经分配的IP地址及其他网络配置信息的过程。租约的更新是为了确保网络上的设备能够继续使用其分配的IP地址，同时也是为了网络资源的有效利用和管理。以下是DHCP租约更新的一般过程：\n租约到期检查： 客户端在分配的IP地址使用期限即将到期时，会开始尝试更新租约。在租约到期之前，客户端通常会尝试向DHCP服务器发送请求以更新租约。\n请求更新（DHCP Request）： 客户端发送一个DHCP请求消息到DHCP服务器，请求续租其当前使用的IP地址及其他网络配置信息。\n服务器确认更新（DHCP Acknowledge）： DHCP服务器收到客户端的更新请求后，会确认该请求，并发送一个DHCP确认消息，其中包含了更新后的网络配置信息。如果DHCP服务器接受了客户端的续租请求，那么它会分配相同的IP地址给客户端，并更新租约的过期时间。\n网络配置更新： 客户端收到DHCP确认消息后，会更新其网络配置，包括IP地址、子网掩码、网关地址等。这样，客户端就可以继续在网络上正常通信，并且不会中断其网络连接。\n通过定期的租约更新，DHCP可以确保网络上的设备持续地使用其分配的IP地址，并且有效地管理IP地址的分配和释放，从而提高网络的可用性和资源利用效率。\n四、DHCP服务配置 安装DHCP服务器角色\nDHCP控制台\nDHCP服务器安装成功后，开始菜单—管理工具—DHCP服务器，进入DHCP控制台。\n创建作用域\n配置作用域选项\n配置作用域选项，DHCP服务器可以给客户机分配网关及DNS等相应的网络配置信息。\n如何保留特定地址\n如果用户想保留特定的IP地址给指定的客户机，以便客户机在每次启动时都获得相同的IP地址，就需要将该IP地址与客户机的MAC地址绑定。\n可以用客户机进行测试\nipconfig /release 释放现有IP\nipconfig /renew 重新获取IP\n配置DHCP类别选项\n通过策略为特定的客户端计算机分配不同的IP地址与选项时，可以通过DHCP客户端所发送的供应商类别、用户类来区分客户端计算机。 EX：通过用户类标识符来识别客户端计算机——假设客户端client1的用户类标识符为“IT”。当client1向DHCP服务器租用IP地址时，会将此标识符“IT”传递给服务器，我们希望服务器根据此标识符来分配客户端的IP地址范围为192.168.10.150/24-192.168.10.180/24，并且将客户端的DNS服务器的IP地址设置为192.168.10.1。\n五、DHCP中继代理 1、在网络中存在多个子网时，DHCP消息通常无法跨越子网传输，因为DHCP是基于UDP广播的。这就意味着DHCP服务器必须与DHCP客户端在同一个子网上才能收到客户端的广播消息。为了解决这个问题，可以使用DHCP中继代理。\n2、DHCP中继代理的工作原理如下：\n当一个DHCP客户端发送一个DHCP发现消息时，如果它位于一个子网上，而DHCP服务器位于另一个子网上，该消息会被网络上的DHCP中继代理接收。\nDHCP中继代理会将接收到的DHCP发现消息转发给配置的DHCP服务器。\nDHCP服务器收到DHCP发现消息后，会相应地回应一个DHCP提供消息，将其发送给DHCP中继代理。\nDHCP中继代理再将DHCP提供消息转发给原始的DHCP客户端。\n3、跨网络DHCP服务器的使用\n符合RFC 1542规范的路由器\n如果路由器不符合RFC 1542规范\n六、无线中继配置 实验环境拓扑图\n1、在GW1上安装路由和远程访问\n2、在GW1上设置中继代理\n七、超级作用域 用于组织和管理 DHCP 服务器上的配置。超级作用域实际上是一个 DHCP 服务器上的逻辑集合，包含了多个作用域（Scope）。作用域是一组 IP 地址范围及其相关的配置参数，如子网掩码、默认网关、DNS 服务器等。在一个 DHCP 服务器上，可以创建多个作用域，以便为不同的网络或子网提供不同的 IP 配置。",
  "keywords": [
    
  ],
  "articleBody": "一、什么是DHCP服务器 DHCP（Dynamic Host Configuration Protocol）服务器是一种网络服务，用于自动分配IP地址给网络上的设备。DHCP服务器负责管理IP地址池，并在设备加入网络时分配IP地址、子网掩码、网关地址等网络配置信息。这种自动配置的方式简化了网络管理。\n二、工作原理 客户端发现（DHCP Discover）： 当一个设备连接到网络时（例如，一台电脑启动或移动到新的网络），它会发送一个DHCP发现消息到网络上的广播地址（255.255.255.255），以寻找可用的DHCP服务器。\n服务器提供（DHCP Offer）： DHCP服务器接收到发现消息后，会回应一个DHCP提供消息，其中包含IP地址等网络配置信息。如果有多个DHCP服务器存在，客户端会接收到多个提供消息，但通常会选择第一个到达的提供消息。\n客户端请求（DHCP Request）： 客户端收到一个或多个DHCP提供消息后，选择其中一个提供消息，并向该DHCP服务器发送一个请求消息，请求分配网络配置信息。\n服务器确认（DHCP Acknowledge）： DHCP服务器收到客户端的请求消息后，确认该请求，并发送一个DHCP确认消息，其中包含了所分配的IP地址等网络配置信息。\n网络配置生效： 客户端收到DHCP确认消息后，配置所分配的IP地址等网络配置信息，并将其应用于网络连接。此时，设备就可以正常地与网络通信了。\n三、租约更新过程 DHCP租约更新是指客户端续租其已经分配的IP地址及其他网络配置信息的过程。租约的更新是为了确保网络上的设备能够继续使用其分配的IP地址，同时也是为了网络资源的有效利用和管理。以下是DHCP租约更新的一般过程：\n租约到期检查： 客户端在分配的IP地址使用期限即将到期时，会开始尝试更新租约。在租约到期之前，客户端通常会尝试向DHCP服务器发送请求以更新租约。\n请求更新（DHCP Request）： 客户端发送一个DHCP请求消息到DHCP服务器，请求续租其当前使用的IP地址及其他网络配置信息。\n服务器确认更新（DHCP Acknowledge）： DHCP服务器收到客户端的更新请求后，会确认该请求，并发送一个DHCP确认消息，其中包含了更新后的网络配置信息。如果DHCP服务器接受了客户端的续租请求，那么它会分配相同的IP地址给客户端，并更新租约的过期时间。\n网络配置更新： 客户端收到DHCP确认消息后，会更新其网络配置，包括IP地址、子网掩码、网关地址等。这样，客户端就可以继续在网络上正常通信，并且不会中断其网络连接。\n通过定期的租约更新，DHCP可以确保网络上的设备持续地使用其分配的IP地址，并且有效地管理IP地址的分配和释放，从而提高网络的可用性和资源利用效率。\n四、DHCP服务配置 安装DHCP服务器角色\nDHCP控制台\nDHCP服务器安装成功后，开始菜单—管理工具—DHCP服务器，进入DHCP控制台。\n创建作用域\n配置作用域选项\n配置作用域选项，DHCP服务器可以给客户机分配网关及DNS等相应的网络配置信息。\n如何保留特定地址\n如果用户想保留特定的IP地址给指定的客户机，以便客户机在每次启动时都获得相同的IP地址，就需要将该IP地址与客户机的MAC地址绑定。\n可以用客户机进行测试\nipconfig /release 释放现有IP\nipconfig /renew 重新获取IP\n配置DHCP类别选项\n通过策略为特定的客户端计算机分配不同的IP地址与选项时，可以通过DHCP客户端所发送的供应商类别、用户类来区分客户端计算机。 EX：通过用户类标识符来识别客户端计算机——假设客户端client1的用户类标识符为“IT”。当client1向DHCP服务器租用IP地址时，会将此标识符“IT”传递给服务器，我们希望服务器根据此标识符来分配客户端的IP地址范围为192.168.10.150/24-192.168.10.180/24，并且将客户端的DNS服务器的IP地址设置为192.168.10.1。\n五、DHCP中继代理 1、在网络中存在多个子网时，DHCP消息通常无法跨越子网传输，因为DHCP是基于UDP广播的。这就意味着DHCP服务器必须与DHCP客户端在同一个子网上才能收到客户端的广播消息。为了解决这个问题，可以使用DHCP中继代理。\n2、DHCP中继代理的工作原理如下：\n当一个DHCP客户端发送一个DHCP发现消息时，如果它位于一个子网上，而DHCP服务器位于另一个子网上，该消息会被网络上的DHCP中继代理接收。\nDHCP中继代理会将接收到的DHCP发现消息转发给配置的DHCP服务器。\nDHCP服务器收到DHCP发现消息后，会相应地回应一个DHCP提供消息，将其发送给DHCP中继代理。\nDHCP中继代理再将DHCP提供消息转发给原始的DHCP客户端。\n3、跨网络DHCP服务器的使用\n符合RFC 1542规范的路由器\n如果路由器不符合RFC 1542规范\n六、无线中继配置 实验环境拓扑图\n1、在GW1上安装路由和远程访问\n2、在GW1上设置中继代理\n七、超级作用域 用于组织和管理 DHCP 服务器上的配置。超级作用域实际上是一个 DHCP 服务器上的逻辑集合，包含了多个作用域（Scope）。作用域是一组 IP 地址范围及其相关的配置参数，如子网掩码、默认网关、DNS 服务器等。在一个 DHCP 服务器上，可以创建多个作用域，以便为不同的网络或子网提供不同的 IP 配置。\n超级作用域的主要作用是方便管理和组织作用域。通过将作用域组织成超级作用域，管理员可以更轻松地管理大量的 DHCP 配置。\n",
  "wordCount" : "84",
  "inLanguage": "en",
  "image": "http://localhost:1313/images/papermod-cover.png","datePublished": "2024-08-21T01:00:06+08:00",
  "dateModified": "2024-08-21T01:00:06+08:00",
  "author":{
    "@type": "Person",
    "name": "Gweek"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://localhost:1313/posts/3/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Gweek",
    "logo": {
      "@type": "ImageObject",
      "url": "http://localhost:1313/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Gweek (Alt + H)">Gweek</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/archives" title="Archive">
                    <span>Archive</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="http://localhost:1313/">Home</a>&nbsp;»&nbsp;<a href="http://localhost:1313/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      DHCP服务器
    </h1>
    <div class="post-meta"><span title='2024-08-21 01:00:06 +0800 CST'>August 21, 2024</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;Gweek&nbsp;|&nbsp;<a href="https://github.com/adityatelange/hugo-PaperMod/tree/exampleSite/content/posts/3.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
  </header> <aside id="toc-container" class="toc-container wide">
    <div class="toc">
        <details  open>
            <summary accesskey="c" title="(Alt + C)">
                <span class="details">Table of Contents</span>
            </summary>

            <div class="inner"><ul>
                    <li>
                        <a href="#%e4%b8%80%e4%bb%80%e4%b9%88%e6%98%afdhcp%e6%9c%8d%e5%8a%a1%e5%99%a8" aria-label="一、什么是DHCP服务器">一、什么是DHCP服务器</a></li>
                    <li>
                        <a href="#%e4%ba%8c%e5%b7%a5%e4%bd%9c%e5%8e%9f%e7%90%86" aria-label="二、工作原理">二、工作原理</a></li>
                    <li>
                        <a href="#%e4%b8%89%e7%a7%9f%e7%ba%a6%e6%9b%b4%e6%96%b0%e8%bf%87%e7%a8%8b" aria-label="三、租约更新过程">三、租约更新过程</a></li>
                    <li>
                        <a href="#%e5%9b%9bdhcp%e6%9c%8d%e5%8a%a1%e9%85%8d%e7%bd%ae" aria-label="四、DHCP服务配置">四、DHCP服务配置</a></li>
                    <li>
                        <a href="#%e4%ba%94dhcp%e4%b8%ad%e7%bb%a7%e4%bb%a3%e7%90%86" aria-label="五、DHCP中继代理">五、DHCP中继代理</a></li>
                    <li>
                        <a href="#%e5%85%ad%e6%97%a0%e7%ba%bf%e4%b8%ad%e7%bb%a7%e9%85%8d%e7%bd%ae" aria-label="六、无线中继配置">六、无线中继配置</a></li>
                    <li>
                        <a href="#%e4%b8%83%e8%b6%85%e7%ba%a7%e4%bd%9c%e7%94%a8%e5%9f%9f" aria-label="七、超级作用域">七、超级作用域</a>
                    </li>
                </ul>
            </div>
        </details>
    </div>
</aside>
<script>
    let activeElement;
    let elements;
    window.addEventListener('DOMContentLoaded', function (event) {
        checkTocPosition();

        elements = document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]');
         
         activeElement = elements[0];
         const id = encodeURI(activeElement.getAttribute('id')).toLowerCase();
         document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
     }, false);

    window.addEventListener('resize', function(event) {
        checkTocPosition();
    }, false);

    window.addEventListener('scroll', () => {
        
        activeElement = Array.from(elements).find((element) => {
            if ((getOffsetTop(element) - window.pageYOffset) > 0 && 
                (getOffsetTop(element) - window.pageYOffset) < window.innerHeight/2) {
                return element;
            }
        }) || activeElement

        elements.forEach(element => {
             const id = encodeURI(element.getAttribute('id')).toLowerCase();
             if (element === activeElement){
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.add('active');
             } else {
                 document.querySelector(`.inner ul li a[href="#${id}"]`).classList.remove('active');
             }
         })
     }, false);

    const main = parseInt(getComputedStyle(document.body).getPropertyValue('--article-width'), 10);
    const toc = parseInt(getComputedStyle(document.body).getPropertyValue('--toc-width'), 10);
    const gap = parseInt(getComputedStyle(document.body).getPropertyValue('--gap'), 10);

    function checkTocPosition() {
        const width = document.body.scrollWidth;

        if (width - main - (toc * 2) - (gap * 4) > 0) {
            document.getElementById("toc-container").classList.add("wide");
        } else {
            document.getElementById("toc-container").classList.remove("wide");
        }
    }

    function getOffsetTop(element) {
        if (!element.getClientRects().length) {
            return 0;
        }
        let rect = element.getBoundingClientRect();
        let win = element.ownerDocument.defaultView;
        return rect.top + win.pageYOffset;   
    }
</script>


  <div class="post-content"><h3 id="一什么是dhcp服务器">一、什么是DHCP服务器<a hidden class="anchor" aria-hidden="true" href="#一什么是dhcp服务器">#</a></h3>
<p>DHCP（Dynamic Host Configuration Protocol）服务器是一种网络服务，用于自动分配IP地址给网络上的设备。DHCP服务器负责管理IP地址池，并在设备加入网络时分配IP地址、子网掩码、网关地址等网络配置信息。这种自动配置的方式简化了网络管理。</p>
<h3 id="二工作原理">二、工作原理<a hidden class="anchor" aria-hidden="true" href="#二工作原理">#</a></h3>
<ol>
<li>
<p><strong>客户端发现（DHCP Discover）：</strong> 当一个设备连接到网络时（例如，一台电脑启动或移动到新的网络），它会发送一个DHCP发现消息到网络上的广播地址（255.255.255.255），以寻找可用的DHCP服务器。</p>
</li>
<li>
<p><strong>服务器提供（DHCP Offer）：</strong> DHCP服务器接收到发现消息后，会回应一个DHCP提供消息，其中包含IP地址等网络配置信息。如果有多个DHCP服务器存在，客户端会接收到多个提供消息，但通常会选择第一个到达的提供消息。</p>
</li>
<li>
<p><strong>客户端请求（DHCP Request）：</strong> 客户端收到一个或多个DHCP提供消息后，选择其中一个提供消息，并向该DHCP服务器发送一个请求消息，请求分配网络配置信息。</p>
</li>
<li>
<p><strong>服务器确认（DHCP Acknowledge）：</strong> DHCP服务器收到客户端的请求消息后，确认该请求，并发送一个DHCP确认消息，其中包含了所分配的IP地址等网络配置信息。</p>
</li>
<li>
<p><strong>网络配置生效：</strong> 客户端收到DHCP确认消息后，配置所分配的IP地址等网络配置信息，并将其应用于网络连接。此时，设备就可以正常地与网络通信了。</p>
</li>
</ol>
<h3 id="三租约更新过程">三、租约更新过程<a hidden class="anchor" aria-hidden="true" href="#三租约更新过程">#</a></h3>
<p>DHCP租约更新是指客户端续租其已经分配的IP地址及其他网络配置信息的过程。租约的更新是为了确保网络上的设备能够继续使用其分配的IP地址，同时也是为了网络资源的有效利用和管理。以下是DHCP租约更新的一般过程：</p>
<ol>
<li>
<p><strong>租约到期检查：</strong> 客户端在分配的IP地址使用期限即将到期时，会开始尝试更新租约。在租约到期之前，客户端通常会尝试向DHCP服务器发送请求以更新租约。</p>
</li>
<li>
<p><strong>请求更新（DHCP Request）：</strong> 客户端发送一个DHCP请求消息到DHCP服务器，请求续租其当前使用的IP地址及其他网络配置信息。</p>
</li>
<li>
<p><strong>服务器确认更新（DHCP Acknowledge）：</strong> DHCP服务器收到客户端的更新请求后，会确认该请求，并发送一个DHCP确认消息，其中包含了更新后的网络配置信息。如果DHCP服务器接受了客户端的续租请求，那么它会分配相同的IP地址给客户端，并更新租约的过期时间。</p>
</li>
<li>
<p><strong>网络配置更新：</strong> 客户端收到DHCP确认消息后，会更新其网络配置，包括IP地址、子网掩码、网关地址等。这样，客户端就可以继续在网络上正常通信，并且不会中断其网络连接。</p>
</li>
</ol>
<p>通过定期的租约更新，DHCP可以确保网络上的设备持续地使用其分配的IP地址，并且有效地管理IP地址的分配和释放，从而提高网络的可用性和资源利用效率。</p>
<h3 id="四dhcp服务配置">四、DHCP服务配置<a hidden class="anchor" aria-hidden="true" href="#四dhcp服务配置">#</a></h3>
<p><strong>安装DHCP服务器角色</strong></p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2F9910699e-9863-4de4-9801-16b1acc08b45%2FUntitled.png?table=block&amp;id=11334dd3-90dd-463c-855b-e0115da2aff6&amp;t=11334dd3-90dd-463c-855b-e0115da2aff6&amp;width=432&amp;cache=v2" alt="notion image"  />
</p>
<p><strong>DHCP控制台</strong></p>
<p>DHCP服务器安装成功后，开始菜单—管理工具—DHCP服务器，进入DHCP控制台。</p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2Fec28fe76-5385-4902-9770-251937e555b1%2FUntitled.png?table=block&amp;id=d2fb8103-33b9-4740-86cc-012fe26cf685&amp;t=d2fb8103-33b9-4740-86cc-012fe26cf685&amp;width=432&amp;cache=v2" alt="notion image"  />
</p>
<p><strong>创建作用域</strong></p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2F40ddfff1-0106-4124-9807-4e47704a1b71%2FUntitled.png?table=block&amp;id=4cb5e6f4-4fb9-4511-ac11-15e4fc31d2b6&amp;t=4cb5e6f4-4fb9-4511-ac11-15e4fc31d2b6&amp;width=432&amp;cache=v2" alt="notion image"  />
</p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2F6925bd5c-91ff-4201-a46b-8c8a9a05aedf%2FUntitled.png?table=block&amp;id=9b94ba21-905c-4eba-aa99-89e781af6d58&amp;t=9b94ba21-905c-4eba-aa99-89e781af6d58&amp;width=432&amp;cache=v2" alt="notion image"  />
</p>
<p><strong>配置作用域选项</strong></p>
<p>配置作用域选项，DHCP服务器可以给客户机分配网关及DNS等相应的网络配置信息。</p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2F4b8a1622-406a-4f43-896f-9ef682f48e7b%2FUntitled.png?table=block&amp;id=9f5c9f62-60ff-4f48-bf41-12550ada287b&amp;t=9f5c9f62-60ff-4f48-bf41-12550ada287b&amp;width=432&amp;cache=v2" alt="notion image"  />
</p>
<p><strong>如何保留特定地址</strong></p>
<p>如果用户想保留特定的IP地址给指定的客户机，以便客户机在每次启动时都获得相同的IP地址，就需要将该IP地址与客户机的MAC地址绑定。</p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2F5fcedfed-7367-4e56-a587-e4c90e9e8609%2FUntitled.png?table=block&amp;id=137ef5b9-b89e-4180-a987-791a5e6c1701&amp;t=137ef5b9-b89e-4180-a987-791a5e6c1701&amp;width=432&amp;cache=v2" alt="notion image"  />
</p>
<p>可以用客户机进行测试</p>
<p><code>ipconfig /release</code> 释放现有IP</p>
<p><code>ipconfig /renew</code> 重新获取IP</p>
<p><strong>配置DHCP类别选项</strong></p>
<p>通过策略为特定的客户端计算机分配不同的IP地址与选项时，可以通过DHCP客户端所发送的<strong>供应商类别、用户类</strong>来区分客户端计算机。 EX：通过用户类标识符来识别客户端计算机——假设客户端client1的用户类标识符为“IT”。当client1向DHCP服务器租用IP地址时，会将此标识符“IT”传递给服务器，我们希望服务器根据此标识符来分配客户端的IP地址范围为192.168.10.150/24-192.168.10.180/24，并且将客户端的DNS服务器的IP地址设置为192.168.10.1。</p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2F7999a32f-76a9-425c-b6b3-7f92a9cb23ae%2FUntitled.png?table=block&amp;id=7ee62af8-bacd-4344-aca1-73d97b0a71ad&amp;t=7ee62af8-bacd-4344-aca1-73d97b0a71ad&amp;width=432&amp;cache=v2" alt="notion image"  />
</p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2F68573912-5380-47f4-b8f3-74816c28e9d8%2FUntitled.png?table=block&amp;id=969d97d7-1aab-4917-a027-af4007ee1df6&amp;t=969d97d7-1aab-4917-a027-af4007ee1df6&amp;width=480&amp;cache=v2" alt="notion image"  />
</p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2F7c7a3204-21f3-49f6-94b8-76bf2a9cdb59%2FUntitled.png?table=block&amp;id=d6c4d839-2231-4e31-8f90-fbd6d1d6208a&amp;t=d6c4d839-2231-4e31-8f90-fbd6d1d6208a&amp;width=480&amp;cache=v2" alt="notion image"  />
</p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2F26354a1e-85c5-45a2-b08e-4911db589520%2FUntitled.png?table=block&amp;id=3811eee1-2386-4494-be88-678b5d31dca3&amp;t=3811eee1-2386-4494-be88-678b5d31dca3&amp;width=480&amp;cache=v2" alt="notion image"  />
</p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2F18a7c00b-e8bc-4814-ac7c-3c9110f2518c%2FUntitled.png?table=block&amp;id=000938f7-b56b-4601-9cc9-fc1bb4e9d70d&amp;t=000938f7-b56b-4601-9cc9-fc1bb4e9d70d&amp;width=480&amp;cache=v2" alt="notion image"  />
</p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2F64df04cb-d195-4d34-b124-c3a6f1663e31%2FUntitled.png?table=block&amp;id=107b82a3-0c6c-46e1-8dfe-3e16500cf6ed&amp;t=107b82a3-0c6c-46e1-8dfe-3e16500cf6ed&amp;width=480&amp;cache=v2" alt="notion image"  />
</p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2Fe49cbb13-ed24-43a6-a471-de0e313b8051%2FUntitled.png?table=block&amp;id=629887f6-7a94-43ba-9199-adaf3a9cacf6&amp;t=629887f6-7a94-43ba-9199-adaf3a9cacf6&amp;width=480&amp;cache=v2" alt="notion image"  />
</p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2Fbaae6ddc-006c-47cc-a0a0-2839f0ccbdce%2FUntitled.png?table=block&amp;id=88e46753-3b98-47d7-8f56-2bbb5e9cd942&amp;t=88e46753-3b98-47d7-8f56-2bbb5e9cd942&amp;width=480&amp;cache=v2" alt="notion image"  />
</p>
<h3 id="五dhcp中继代理">五、DHCP中继代理<a hidden class="anchor" aria-hidden="true" href="#五dhcp中继代理">#</a></h3>
<p>1、在网络中存在多个子网时，DHCP消息通常无法跨越子网传输，因为DHCP是基于UDP广播的。这就意味着DHCP服务器必须与DHCP客户端在同一个子网上才能收到客户端的广播消息。为了解决这个问题，可以使用DHCP中继代理。</p>
<p>2、DHCP中继代理的工作原理如下：</p>
<ul>
<li>
<p>当一个DHCP客户端发送一个DHCP发现消息时，如果它位于一个子网上，而DHCP服务器位于另一个子网上，该消息会被网络上的DHCP中继代理接收。</p>
</li>
<li>
<p>DHCP中继代理会将接收到的DHCP发现消息转发给配置的DHCP服务器。</p>
</li>
<li>
<p>DHCP服务器收到DHCP发现消息后，会相应地回应一个DHCP提供消息，将其发送给DHCP中继代理。</p>
</li>
<li>
<p>DHCP中继代理再将DHCP提供消息转发给原始的DHCP客户端。</p>
</li>
</ul>
<p>3、跨网络DHCP服务器的使用</p>
<p><strong>符合RFC 1542规范的路由器</strong></p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2F0c3fdf33-dc27-454f-b9a0-85b984eb29f2%2FUntitled.png?table=block&amp;id=c29d1ef4-f567-4392-803e-bc5c9d3409a0&amp;t=c29d1ef4-f567-4392-803e-bc5c9d3409a0&amp;width=432&amp;cache=v2" alt="notion image"  />
</p>
<p><strong>如果路由器不符合RFC 1542规范</strong></p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2F1911a731-7f5b-43d7-836f-339e845e2fd0%2FUntitled.png?table=block&amp;id=9a1bb08f-bdae-408f-9046-6d8a749b60db&amp;t=9a1bb08f-bdae-408f-9046-6d8a749b60db&amp;width=432&amp;cache=v2" alt="notion image"  />
</p>
<h3 id="六无线中继配置">六、无线中继配置<a hidden class="anchor" aria-hidden="true" href="#六无线中继配置">#</a></h3>
<p>实验环境拓扑图</p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2Ffec216c1-acc5-47c9-a959-1924924dae34%2FUntitled.png?table=block&amp;id=db84c0ef-cc68-4789-891e-0f263945d350&amp;t=db84c0ef-cc68-4789-891e-0f263945d350&amp;width=480&amp;cache=v2" alt="notion image"  />
</p>
<p>1、在GW1上安装路由和远程访问</p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2Feb08d778-5a74-4c07-a087-c5fb1aa43feb%2FUntitled.png?table=block&amp;id=c555c668-b637-4c02-8197-7d0343f0dd0d&amp;t=c555c668-b637-4c02-8197-7d0343f0dd0d&amp;width=480&amp;cache=v2" alt="notion image"  />
</p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2Fa1587584-4537-484e-bc69-6422c846847d%2FUntitled.png?table=block&amp;id=647f4687-4b6a-4089-8f72-7fa307ea8e58&amp;t=647f4687-4b6a-4089-8f72-7fa307ea8e58&amp;width=480&amp;cache=v2" alt="notion image"  />
</p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2F3c577a93-24c6-4694-8763-7a5e22cace6f%2FUntitled.png?table=block&amp;id=381e6d74-8a62-4c9f-ade6-364c8ba03a65&amp;t=381e6d74-8a62-4c9f-ade6-364c8ba03a65&amp;width=480&amp;cache=v2" alt="notion image"  />
</p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2F952909b3-4dcf-46e8-bf7f-64e49145e0a2%2FUntitled.png?table=block&amp;id=c2939e06-fd8c-42a0-8e02-bde00ef59fad&amp;t=c2939e06-fd8c-42a0-8e02-bde00ef59fad&amp;width=480&amp;cache=v2" alt="notion image"  />
</p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2F72fb5e1c-60b5-4a8f-93a0-a3a06603844c%2FUntitled.png?table=block&amp;id=34201c5e-a8ba-4d8a-8e3c-e76254fab017&amp;t=34201c5e-a8ba-4d8a-8e3c-e76254fab017&amp;width=480&amp;cache=v2" alt="notion image"  />
</p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2Fbda9d68f-c0ae-4198-91a2-a3574a960207%2FUntitled.png?table=block&amp;id=47abc17f-ab62-4f84-8be4-1ab018288ebe&amp;t=47abc17f-ab62-4f84-8be4-1ab018288ebe&amp;width=480&amp;cache=v2" alt="notion image"  />
</p>
<p>2、在GW1上设置中继代理</p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2Fb080ba6a-b0f0-48b6-983a-06d277ac58fe%2FUntitled.png?table=block&amp;id=a44222ff-9876-48f1-bf18-fccef08c2faf&amp;t=a44222ff-9876-48f1-bf18-fccef08c2faf&amp;width=480&amp;cache=v2" alt="notion image"  />
</p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2Fc6904981-b5e6-44e9-a59b-d96a815a0b45%2FUntitled.png?table=block&amp;id=ef801289-9c05-48af-b211-2335162e76a5&amp;t=ef801289-9c05-48af-b211-2335162e76a5&amp;width=480&amp;cache=v2" alt="notion image"  />
</p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2F7764af56-a260-4f2a-bcda-49ab5ce11394%2FUntitled.png?table=block&amp;id=7ce81bfd-dce3-4464-87e5-56edd8382ceb&amp;t=7ce81bfd-dce3-4464-87e5-56edd8382ceb&amp;width=480&amp;cache=v2" alt="notion image"  />
</p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2F3860d36d-2be9-4e78-9e3d-91ceaa88e379%2FUntitled.png?table=block&amp;id=6c536736-51de-4af0-b97b-a5e16fc2b404&amp;t=6c536736-51de-4af0-b97b-a5e16fc2b404&amp;width=480&amp;cache=v2" alt="notion image"  />
</p>
<h3 id="七超级作用域">七、超级作用域<a hidden class="anchor" aria-hidden="true" href="#七超级作用域">#</a></h3>
<p>用于组织和管理 DHCP 服务器上的配置。超级作用域实际上是一个 DHCP 服务器上的逻辑集合，包含了多个作用域（Scope）。作用域是一组 IP 地址范围及其相关的配置参数，如子网掩码、默认网关、DNS 服务器等。在一个 DHCP 服务器上，可以创建多个作用域，以便为不同的网络或子网提供不同的 IP 配置。</p>
<p>超级作用域的主要作用是方便管理和组织作用域。通过将作用域组织成超级作用域，管理员可以更轻松地管理大量的 DHCP 配置。</p>
<p><img loading="lazy" src="https://www.notion.so/image/https%3A%2F%2Fprod-files-secure.s3.us-west-2.amazonaws.com%2F06074db3-42fc-4a83-b0ba-a5bba23b02a5%2F43a12ab5-0c3e-45b3-985e-fb62b871d31b%2Fimage.jpeg?table=block&amp;id=964c2af2-9646-4847-aa18-6618dcebf360&amp;t=964c2af2-9646-4847-aa18-6618dcebf360&amp;width=796&amp;cache=v2" alt="notion image"  />
</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
<nav class="paginav">
  <a class="next" href="http://localhost:1313/posts/2/">
    <span class="title">Next »</span>
    <br>
    <span>云计算</span>
  </a>
</nav>

  </footer>
<div>
    <div class="pagination__title">
        <span class="pagination__title-h" style="font-size: 20px;">💬评论</span>
        <hr />
    </div>
    <div id="tcomment"></div>
    <script src="https://cdn.staticfile.org/twikoo/1.6.36/twikoo.all.min.js"></script>
    <script>
        twikoo.init({
            envId: "https://twikoo.myla.eu.org/",  
            el: "#tcomment",
            lang: 'zh-CN',
            region: 'ap-shanghai',  
            path: window.TWIKOO_MAGIC_PATH||window.location.pathname,
        });
    </script>
</div>

</article>
    </main>
    
<footer class="footer">
        <span>© Gweek</span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
